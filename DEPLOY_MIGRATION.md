# üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –¥–ª—è Railway

## ‚ùóÔ∏è –í–ê–ñ–ù–û - –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø –í–´–ü–û–õ–ù–ò–¢–¨ –ú–ò–ì–†–ê–¶–ò–Æ!

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Railway –Ω—É–∂–Ω–æ **–æ–¥–∏–Ω —Ä–∞–∑** –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è `street` –≤ —Ç–∞–±–ª–∏—Ü—É `addresses`.

---

## üìã –®–∞–≥–∏:

### 1. –û—Ç–∫—Ä–æ–π Railway Dashboard
- –ó–∞–π–¥–∏ –≤ –ø—Ä–æ–µ–∫—Ç **Ya Uberu**
- –û—Ç–∫—Ä–æ–π —Å–µ—Ä–≤–∏—Å **Backend**

### 2. –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ PostgreSQL
- –û—Ç–∫—Ä–æ–π —Å–µ—Ä–≤–∏—Å **PostgreSQL** –≤ Railway
- –°–∫–æ–ø–∏—Ä—É–π **Connection URL** –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∫–æ–Ω—Å–æ–ª—å

### 3. –í—ã–ø–æ–ª–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏—é
**–í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ Railway Console**
```sql
ALTER TABLE addresses ADD COLUMN IF NOT EXISTS street VARCHAR(200);
ALTER TABLE addresses ALTER COLUMN complex_id DROP NOT NULL;
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ psql (–ª–æ–∫–∞–ª—å–Ω–æ)**
```bash
# –°–∫–æ–ø–∏—Ä—É–π DATABASE_URL –∏–∑ Railway
psql "postgresql://user:pass@host:port/railway" -f backend/migration_add_street.sql
```

**–í–∞—Ä–∏–∞–Ω—Ç –í: –ß–µ—Ä–µ–∑ Railway CLI**
```bash
railway connect postgres
# –ó–∞—Ç–µ–º –≤ psql:
\i backend/migration_add_street.sql
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞:

```sql
\d addresses
-- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–æ–ª–æ–Ω–∫–∞ street VARCHAR(200)
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π Web App –≤ Telegram
2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑
3. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∫–∞—Ä—Ç—É ‚Üí –≤—ã–±–µ—Ä–∏—Å—å –∞–¥—Ä–µ—Å
4. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ **—É–ª–∏—Ü–∞** –∏ **–¥–æ–º** –∑–∞–ø–æ–ª–Ω–∏–ª–∏—Å—å!

---

## üîÑ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –û—à–∏–±–∫–∞: "column already exists"
‚úÖ **–í—Å—ë –û–ö!** –ú–∏–≥—Ä–∞—Ü–∏—è —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞.

### –û—à–∏–±–∫–∞: "relation does not exist"
‚ùå –ë–∞–∑–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ backend –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –∏ —Å–æ–∑–¥–∞–ª —Ç–∞–±–ª–∏—Ü—ã.

### –ó–∞–∫–∞–∑—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ backend –≤ Railway
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `DATABASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

---

## üìù –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

### Backend (Python/FastAPI):
- ‚úÖ –ú–æ–¥–µ–ª—å `Address` —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø–æ–ª–µ `street`
- ‚úÖ `complex_id` —Ç–µ–ø–µ—Ä—å **optional**
- ‚úÖ API `/users/addresses` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `street`

### Frontend (Next.js):
- ‚úÖ –£–±—Ä–∞–Ω –≤—ã–±–æ—Ä –ñ–ö
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ "–£–ª–∏—Ü–∞"
- ‚úÖ –ö–∞—Ä—Ç–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —É–ª–∏—Ü—É + –¥–æ–º –∞–≤—Ç–æ–º–∞—Ç–æ–º
- ‚úÖ –£–±—Ä–∞–Ω —Ñ–ª–∞–≥ —Å –∫–∞—Ä—Ç—ã

### Courier Bot:
- ‚úÖ –¢–µ–ø–µ—Ä—å –≤–∏–¥–∏—Ç –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å (—É–ª–∏—Ü–∞ + –¥–æ–º)

---

## üéâ –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

**–í–°–Å –î–û–õ–ñ–ù–û –†–ê–ë–û–¢–ê–¢–¨!** üöÄ

–ö–ª–∏–µ–Ω—Ç:
- –ö–ª–∏–∫–∞–µ—Ç –Ω–∞ –∫–∞—Ä—Ç—É
- –í–∏–¥–∏—Ç "—É–ª–∏—Ü–∞ –õ–µ–Ω–∏–Ω–∞, 25"
- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–æ–º!

–ö—É—Ä—å–µ—Ä:
- –í–∏–¥–∏—Ç "—É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 25"
- –ó–Ω–∞–µ—Ç –∫—É–¥–∞ –µ—Ö–∞—Ç—å!

---

**–ú–ò–ì–†–ê–¶–ò–Ø –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê –î–õ–Ø PRODUCTION!** ‚ö†Ô∏è

–ë–µ–∑ –Ω–µ—ë –∑–∞–∫–∞–∑—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –±–µ–∑ —É–ª–∏—Ü—ã!

